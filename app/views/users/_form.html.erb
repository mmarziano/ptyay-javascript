    <% if @user.errors.any? %>
            <div id="error_explanation">
                <h2><%= pluralize(@user.errors.count, "error") %> prohibited this account from being created:</h2>
            
                <ul>
                    <% @user.errors.full_messages.each do |msg| %>
                        <li><%= msg %></li>
                    <% end %>
                </ul>
            </div>
        <% end %>

<%= form_for @user do |f| %>
    <%= f.label :username %>
    <%= f.text_field :username, class: "form-control", :required => true %></br>

    <%= f.label :email %>
    <%= f.email_field :email, class: "form-control", :required => true %></br>

    <%= f.label :password %>
    <%= f.password_field :password, class: "form-control", :required => true %></br>

    <%= f.label :first_name %>
    <%= f.text_field :first_name, class: "form-control", :required => true %></br>

    <%= f.label :last_name %>
    <%= f.text_field :last_name, class: "form-control", :required => true %></br>

    <h3>Select School</h3>

    <%= f.label :school_name %>
    <%= f.collection_select :school_id, School.all, :id, :name, {}, {class: "form-control", :required => true} %></br>

    <h3>Add Students</h3>

    <%= f.fields_for :household do |h| %>
        
        <%= h.fields_for :students_attributes, Household.new.students.build do |student| %>
            <%= student.label :first_name %>
            <%= student.text_field :first_name, class: "form-control", required: true %></br>
            <%= student.label :last_name %>
            <%= student.text_field :last_name, class: "form-control", required: true %></br>
            <%= student.label :grade %>
            <%= student.collection_select :grade, grades, :to_s, :to_s, {}, {class: "form-control", :required => true} %></br>
        <% end %>
    <% end %>

    <%= f.submit "Create Account", class: "btn btn-outline-light"  %>


<% end %>